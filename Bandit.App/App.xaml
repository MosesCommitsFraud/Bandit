<Application x:Class="Bandit.App.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Bandit.App">
  <Application.Resources>
    <!-- Dark Grey + Purple Color Palette -->
    <SolidColorBrush x:Key="BackgroundDark" Color="#1A1A1A"/>
    <SolidColorBrush x:Key="BackgroundMedium" Color="#2A2A2A"/>
    <SolidColorBrush x:Key="BackgroundLight" Color="#3A3A3A"/>
    <SolidColorBrush x:Key="AccentPrimary" Color="#8B5CF6"/>
    <SolidColorBrush x:Key="AccentPrimaryHover" Color="#7C3AED"/>
    <SolidColorBrush x:Key="AccentSecondary" Color="#A78BFA"/>
    <SolidColorBrush x:Key="AccentDanger" Color="#EF4444"/>
    <SolidColorBrush x:Key="AccentDangerHover" Color="#DC2626"/>
    <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="TextSecondary" Color="#9CA3AF"/>
    <SolidColorBrush x:Key="BorderColor" Color="#4A4A4A"/>
    <SolidColorBrush x:Key="CardBackground" Color="#252525"/>

    <!-- Modern Button Style -->
    <Style x:Key="ModernButton" TargetType="Button">
      <Setter Property="Background" Value="{StaticResource AccentPrimary}"/>
      <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="16,10"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="FontWeight" Value="Medium"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}"
                    CornerRadius="8"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource AccentPrimaryHover}"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="RenderTransform">
                  <Setter.Value>
                    <ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
                  </Setter.Value>
                </Setter>
              </Trigger>
              <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.5"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Danger Button Style -->
    <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
      <Setter Property="Background" Value="{StaticResource AccentDanger}"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}"
                    CornerRadius="8"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource AccentDangerHover}"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="RenderTransform">
                  <Setter.Value>
                    <ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
                  </Setter.Value>
                </Setter>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Secondary Button Style -->
    <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
      <Setter Property="Background" Value="{StaticResource BackgroundLight}"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}"
                    CornerRadius="8"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#4A4A4A"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="RenderTransform">
                  <Setter.Value>
                    <ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
                  </Setter.Value>
                </Setter>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Modern TextBox Style -->
    <Style x:Key="ModernTextBox" TargetType="TextBox">
      <Setter Property="Background" Value="{StaticResource BackgroundMedium}"/>
      <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
      <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="Padding" Value="14,12"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="CaretBrush" Value="{StaticResource AccentPrimary}"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TextBox">
            <Border Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="8">
              <ScrollViewer x:Name="PART_ContentHost"
                            Margin="{TemplateBinding Padding}"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource AccentPrimary}"/>
              </Trigger>
              <Trigger Property="IsFocused" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource AccentPrimary}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Modern Menu Style -->
    <Style x:Key="ModernMenu" TargetType="Menu">
      <Setter Property="Background" Value="{StaticResource BackgroundMedium}"/>
      <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
      <Setter Property="FontSize" Value="14"/>
    </Style>

    <Style x:Key="ModernMenuItem" TargetType="MenuItem">
      <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Padding" Value="12,8"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="MenuItem">
            <Border Background="{TemplateBinding Background}"
                    BorderThickness="0"
                    CornerRadius="4"
                    Margin="2">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ContentPresenter ContentSource="Header"
                                  Margin="{TemplateBinding Padding}"
                                  VerticalAlignment="Center"/>
                <Path Grid.Column="1"
                      x:Name="Arrow"
                      Data="M0,0 L4,4 L0,8"
                      Stroke="{TemplateBinding Foreground}"
                      StrokeThickness="1"
                      Margin="8,0,4,0"
                      VerticalAlignment="Center"
                      Visibility="Collapsed"/>
                <Popup x:Name="PART_Popup"
                       IsOpen="{TemplateBinding IsSubmenuOpen}"
                       Placement="Bottom"
                       AllowsTransparency="True"
                       Focusable="False">
                  <Border Background="{StaticResource BackgroundLight}"
                          BorderBrush="{StaticResource BorderColor}"
                          BorderThickness="1"
                          CornerRadius="8"
                          Padding="4"
                          Margin="0,4,0,0">
                    <Border.Effect>
                      <DropShadowEffect Color="Black" Opacity="0.5" BlurRadius="10" ShadowDepth="2"/>
                    </Border.Effect>
                    <ItemsPresenter/>
                  </Border>
                </Popup>
              </Grid>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="Role" Value="TopLevelHeader">
                <Setter TargetName="PART_Popup" Property="Placement" Value="Bottom"/>
              </Trigger>
              <Trigger Property="Role" Value="SubmenuHeader">
                <Setter TargetName="Arrow" Property="Visibility" Value="Visible"/>
                <Setter TargetName="PART_Popup" Property="Placement" Value="Right"/>
              </Trigger>
              <Trigger Property="IsHighlighted" Value="True">
                <Setter Property="Background" Value="{StaticResource BackgroundLight}"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="{StaticResource AccentPrimary}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Modern Separator Style -->
    <Style TargetType="Separator">
      <Setter Property="Background" Value="{StaticResource BorderColor}"/>
      <Setter Property="Height" Value="1"/>
      <Setter Property="Margin" Value="8,4"/>
    </Style>

    <!-- ScrollBar Styles -->
    <Style TargetType="ScrollBar">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Width" Value="12"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ScrollBar">
            <Grid>
              <Track x:Name="PART_Track" IsDirectionReversed="True">
                <Track.Thumb>
                  <Thumb>
                    <Thumb.Template>
                      <ControlTemplate TargetType="Thumb">
                        <Border Background="{StaticResource BorderColor}"
                                CornerRadius="6"
                                Margin="2"/>
                        <ControlTemplate.Triggers>
                          <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{StaticResource TextSecondary}"/>
                          </Trigger>
                        </ControlTemplate.Triggers>
                      </ControlTemplate>
                    </Thumb.Template>
                  </Thumb>
                </Track.Thumb>
              </Track>
            </Grid>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Default Styles -->
    <Style TargetType="Button" BasedOn="{StaticResource ModernButton}"/>
    <Style TargetType="TextBox" BasedOn="{StaticResource ModernTextBox}"/>
    <Style TargetType="Menu" BasedOn="{StaticResource ModernMenu}"/>
    <Style TargetType="MenuItem" BasedOn="{StaticResource ModernMenuItem}"/>
    <Style TargetType="Window">
      <Setter Property="Background" Value="{StaticResource BackgroundDark}"/>
      <Setter Property="FontFamily" Value="Segoe UI, Arial"/>
    </Style>
    <Style TargetType="TextBlock">
      <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
    </Style>
  </Application.Resources>
</Application>
